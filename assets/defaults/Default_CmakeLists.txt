cmake_minimum_required(VERSION 3.16)

cmake_policy(SET CMP0077 NEW)

project({ProjectName})

set(CMAKE_CXX_STANDARD 20)

set(ENGINE_PATH {EnginePath})

file(GLOB_RECURSE SOURCE_FILES CONFIGURE_DEPENDS Source/*.cpp Source/*.h)

add_library({ProjectName}  SHARED ${SOURCE_FILES})

target_link_libraries({ProjectName} PRIVATE Engine)

target_include_directories({ProjectName} PUBLIC
        ${ENGINE_PATH}/include
        ${ENGINE_PATH}/src
        Source
)

add_subdirectory(
        ${ENGINE_PATH}
        ${CMAKE_BINARY_DIR}/engine_raytrace_build
)

message(STATUS "CMake is including the following source files for project:")
foreach(file ${SOURCE})
    message(STATUS "  ${file}")
endforeach()
